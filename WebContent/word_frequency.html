<!DOCTYPE html>
<html>
<head>
<!--Import Google Icon Font-->
<link href="https://fonts.googleapis.com/icon?family=Material+Icons"
	rel="stylesheet">
<!--Import materialize.css-->
<link type="text/css" rel="stylesheet" href="css/materialize.min.css"
	media="screen,projection" />
<link rel="stylesheet" href="css/jqcloud.min.css">
<!--Let browser know website is optimized for mobile-->
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
	<div class="container">
		<div class="row">
			<form class="col s12">
				<div class="row">
					<div class="input-field col s12">
						<textarea id="textarea1" class="materialize-textarea">when i started i was wondering how do plants and animals interact in our ecosystem. one question we asked was what is the cycle of how plants and animals interact. ,,We were trying to find out how animals interact with each other with is our big question so i did research about what animals do to get energy to make fruits and oxcygen as a waste product and that we need so what we learned also is that when plants die they drop seeds and the seeds can be blowed away by wind or eaten by animals and get digested somewhere else by animals to creat a new plant.,,,,,,,	</textarea>
						<label for="textarea1">Our problems</label>
					</div>
					<div class="input-field col s12">
						<textarea id="textarea2" class="materialize-textarea">sunlight goes into the plant and rain goes into the roots then the plants grow and an animal eats the plant the animals excrete the plant which causes the seeds from the plant before to grow and make new plants.,First thing that helps plants is photosynthesis it is the process that brings sun energy to the plant and also every single living organism on earth needs the main source of life WATER plants need water to make oxygen and the fruits you eat now and also it help it stay alive and also plants consume carbon dioxide. ,another thing that happens is the plant dies the plants seeds blow away and land somewhere else which also causes new plants to grow.,and with all this energy plants make a sugar called Glucose and it is the main source of nutritions for fueling the cells for growth and plants use there roots to suck up water to the plant and the spine of the plant also help to transport resources to the plant</textarea>
						<label for="textarea2">Big ideas we have learned</label>
					</div>
					<div class="input-field col s12">
						<textarea id="textarea3" class="materialize-textarea">We are still researching how the population of plants or animals affect each other,what particular plants do animals in our ecosystem eat and how population of plants and animals effect eachother,</textarea>
						<label for="textarea3">We need to do more</label>
					</div>
				</div>
			</form>
		</div>
		<div class="row">
			<button id="start" class="btn">Analyze</button>
		</div>
		<div class="row" id="result"></div>
	</div>
	<script type="text/javascript"
		src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
	<script type="text/javascript" src="js/materialize.min.js"></script>
	<script src="js/jqcloud.min.js"></script>
	<script>
		$("#start")
				.click(
						function() {
							/*
							console.log("123")
							$.ajax({
								url : "http://web-tccl.arcc.albany.edu:5555/",
								type : 'POST',
								data : {text: $("#textarea1").val()+$("#textarea2").val()+$("#textarea3").val()},
								success : function(response) {
									var rjson = $.parseJSON(response);
							    	console.log(rjson);
							    	
							    	var ttt = [];
									for (var j = 0; j < rjson.length; j++){
										//ttt.push({text: words[j], weight: parseFloat(weights[j])*100});
										ttt.push({text: rjson[j][1], weight: rjson[j][0]});
									}
							    	
							    	newdiv = $('<div class="center-align"></div>').jQCloud(ttt, {
										  width: 800,
										  height: 600
										});
									
									$('#result').append(newdiv);
							    	
								}
							});
							 */
							var pattern = /\w+/g, string = $("#textarea1").val()+$("#textarea2").val()+$("#textarea3").val();
							 
							var matchedWords = string.match(pattern);

							var counts = matchedWords.reduce(function(stats, word) {
								if (stats.hasOwnProperty(word)) {
									stats[word] = stats[word] + 1;
								} else {
									stats[word] = 1;
								}
								return stats;

							}, {});
							
							stopwords = ['a', 'about', 'above', 'across', 'after', 'afterwards',
								'again', 'against', 'all', 'almost', 'alone', 'along',
								'already', 'also', 'although', 'always', 'am', 'among',
							    'amongst', 'amoungst', 'amount', 'an', 'and', 'another',
							    'any', 'anyhow', 'anyone', 'anything', 'anyway', 'anywhere',
							    'are', 'around', 'as', 'at', 'back', 'be', 'became',
							    'because', 'become', 'becomes', 'becoming', 'been',
							    'before', 'beforehand', 'behind', 'being', 'below',
							    'beside', 'besides', 'between', 'beyond', 'bill', 'both',
							    'bottom', 'but', 'by', 'call', 'can', 'cannot', 'cant',
							    'co', 'computer', 'con', 'could', 'couldnt', 'cry', 'de',
							    'describe', 'detail', 'did', 'do', 'done', 'down', 'due',
							    'during', 'each', 'eg', 'eight', 'either', 'eleven', 'else',
							    'elsewhere', 'empty', 'enough', 'etc', 'even', 'ever',
							    'every', 'everyone', 'everything', 'everywhere', 'except',
							    'few', 'fifteen', 'fifty', 'fill', 'find', 'fire', 'first',
							    'five', 'for', 'former', 'formerly', 'forty', 'found',
							    'four', 'from', 'front', 'full', 'further', 'get', 'give',
							    'go', 'had', 'has', 'hasnt', 'have', 'he', 'hence', 'her',
							    'here', 'hereafter', 'hereby', 'herein', 'hereupon', 'hers',
							    'herself', 'him', 'himself', 'his', 'how', 'however',
							    'hundred', 'i', 'ie', 'if', 'in', 'inc', 'indeed',
							    'interest', 'into', 'is', 'it', 'its', 'itself', 'keep',
							    'last', 'latter', 'latterly', 'least', 'less', 'ltd', 'made',
							    'many', 'may', 'me', 'meanwhile', 'might', 'mill', 'mine',
							    'more', 'moreover', 'most', 'mostly', 'move', 'much',
							    'must', 'my', 'myself', 'name', 'namely', 'neither', 'never',
							    'nevertheless', 'next', 'nine', 'no', 'nobody', 'none',
							    'noone', 'nor', 'not', 'nothing', 'now', 'nowhere', 'of',
							    'off', 'often', 'on','once', 'one', 'only', 'onto', 'or',
							    'other', 'others', 'otherwise', 'our', 'ours', 'ourselves',
							    'out', 'over', 'own', 'part', 'per', 'perhaps', 'please',
							    'put', 'rather', 're', 's', 'same', 'see', 'seem', 'seemed',
							    'seeming', 'seems', 'serious', 'several', 'she', 'should',
							    'show', 'side', 'since', 'sincere', 'six', 'sixty', 'so',
							    'some', 'somehow', 'someone', 'something', 'sometime',
							    'sometimes', 'somewhere', 'still', 'such', 'system', 'take',
							    'ten', 'than', 'that', 'the', 'their', 'them', 'themselves',
							    'then', 'thence', 'there', 'thereafter', 'thereby',
							    'therefore', 'therein', 'thereupon', 'these', 'they',
							    'thick', 'thin', 'third', 'this', 'those', 'though', 'three',
							    'three', 'through', 'throughout', 'thru', 'thus', 'to',
							    'together', 'too', 'top', 'toward', 'towards', 'twelve',
							    'twenty', 'two', 'un', 'under', 'until', 'up', 'upon',
							    'us', 'very', 'via', 'was', 'we', 'well', 'were', 'what',
							    'whatever', 'when', 'whence', 'whenever', 'where',
							    'whereafter', 'whereas', 'whereby', 'wherein', 'whereupon',
							    'wherever', 'whether', 'which', 'while', 'whither', 'who',
							    'whoever', 'whole', 'whom', 'whose', 'why', 'will', 'with',
							    'within', 'without', 'would', 'yet', 'you', 'your',
							    'yours', 'yourself', 'yourselves', 'yes']

							/* Now that `counts` has our object, we can log it. */
							stopwords.forEach(function(element) {
								delete counts[element];
							});
							console.log(counts);
							
							for (var key in counts){
								if (key.slice(0, -1) in counts)
									delete counts[key];
								else if (key.slice(0, -2) in counts)
									delete counts[key];
							}
							
							var ttt = [];
							for (var key in counts){
								//ttt.push({text: words[j], weight: parseFloat(weights[j])*100});
								ttt.push({text: key, weight: counts[key]});
							}
					    	
					    	newdiv = $('<div class="center-align"></div>').jQCloud(ttt, {
								  width: 800,
								  height: 600
								});
							
							$('#result').append(newdiv);
						});
	</script>
</body>

</html>